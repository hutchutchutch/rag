@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* CSS Variables for the design system */
  :root {
    /* Base theme colors */
    --color-dark-50: 234 234 234; /* #EAEAEA */
    --color-dark-100: 189 189 189; /* #BDBDBD */
    --color-dark-200: 158 158 158; /* #9E9E9E */
    --color-dark-300: 117 117 117; /* #757575 */
    --color-dark-400: 97 97 97; /* #616161 */
    --color-dark-500: 66 66 66; /* #424242 */
    --color-dark-600: 48 48 48; /* #303030 */
    --color-dark-700: 36 36 36; /* #242424 */
    --color-dark-800: 26 26 26; /* #1A1A1A */
    --color-dark-900: 15 15 15; /* #0F0F0F */
    --color-dark-950: 8 8 8; /* #080808 */
    
    /* Primary color - Purple */
    --color-primary-50: 244 240 255; /* #F4F0FF */
    --color-primary-100: 233 227 255; /* #E9E3FF */
    --color-primary-200: 212 196 255; /* #D4C4FF */
    --color-primary-300: 190 166 255; /* #BEA6FF */
    --color-primary-400: 169 135 255; /* #A987FF */
    --color-primary-500: 139 92 246; /* #8B5CF6 */
    --color-primary-600: 124 77 238; /* #7C4DEE */
    --color-primary-700: 109 61 230; /* #6D3DE6 */
    --color-primary-800: 94 48 218; /* #5E30DA */
    --color-primary-900: 76 33 203; /* #4C21CB */
    
    /* Overlay colors for modals, dialogs, etc. */
    --color-overlay-light: rgba(255, 255, 255, 0.1);
    --color-overlay-dark: rgba(0, 0, 0, 0.5);
    
    /* Border colors */
    --color-border-light: rgba(255, 255, 255, 0.12);
    --color-border-normal: rgba(255, 255, 255, 0.24);
    --color-border-focus: rgb(139, 92, 246); /* primary-500 */
    
    /* Text colors */
    --color-text-primary: rgba(255, 255, 255, 0.87);
    --color-text-secondary: rgba(255, 255, 255, 0.6);
    --color-text-disabled: rgba(255, 255, 255, 0.38);
    
    /* Elevations - using Material design elevation system */
    --shadow-dp0: none;
    --shadow-dp1: 0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 2px 1px -1px rgba(0, 0, 0, 0.12), 0 1px 3px 0 rgba(0, 0, 0, 0.2);
    --shadow-dp2: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2);
    --shadow-dp3: 0 3px 4px 0 rgba(0, 0, 0, 0.14), 0 3px 3px -2px rgba(0, 0, 0, 0.12), 0 1px 8px 0 rgba(0, 0, 0, 0.2);
    --shadow-dp4: 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
    --shadow-dp6: 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12), 0 3px 5px -1px rgba(0, 0, 0, 0.2);
    --shadow-dp8: 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12), 0 5px 5px -3px rgba(0, 0, 0, 0.2);
    --shadow-dp12: 0 12px 17px 2px rgba(0, 0, 0, 0.14), 0 5px 22px 4px rgba(0, 0, 0, 0.12), 0 7px 8px -4px rgba(0, 0, 0, 0.2);
    --shadow-dp16: 0 16px 24px 2px rgba(0, 0, 0, 0.14), 0 6px 30px 5px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2);
    --shadow-dp24: 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12), 0 11px 15px -7px rgba(0, 0, 0, 0.2);
    
    /* Glow effects */
    --shadow-glow-primary: 0 0 15px rgba(139, 92, 246, 0.5);
    --shadow-glow-secondary: 0 0 15px rgba(6, 182, 212, 0.5);
    --shadow-glow-success: 0 0 15px rgba(16, 185, 129, 0.5);
    --shadow-glow-error: 0 0 15px rgba(239, 68, 68, 0.5);
    
    /* Animation durations */
    --animation-short: 150ms;
    --animation-medium: 300ms;
    --animation-long: 500ms;
    
    /* Border radius */
    --radius-xs: 2px;
    --radius-sm: 4px;
    --radius-md: 6px;
    --radius-lg: 8px;
    --radius-xl: 12px;
    --radius-2xl: 16px;
    --radius-full: 9999px;
    
    /* Material elevation background colors for dark theme */
    --bg-elevation-0: rgb(18, 18, 18); /* #121212 */
    --bg-elevation-1: rgb(30, 30, 30); /* #1E1E1E */
    --bg-elevation-2: rgb(33, 33, 33); /* #212121 */
    --bg-elevation-3: rgb(37, 37, 37); /* #252525 */
    --bg-elevation-4: rgb(41, 41, 41); /* #292929 */
    --bg-elevation-6: rgb(45, 45, 45); /* #2D2D2D */
    --bg-elevation-8: rgb(48, 48, 48); /* #303030 */
    --bg-elevation-12: rgb(51, 51, 51); /* #333333 */
    --bg-elevation-16: rgb(54, 54, 54); /* #363636 */
    --bg-elevation-24: rgb(57, 57, 57); /* #393939 */
    
    /* Set base typography */
    --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    --font-mono: 'JetBrains Mono', Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
    
    /* Z-index layers */
    --z-index-dropdown: 10;
    --z-index-sticky: 20;
    --z-index-fixed: 30;
    --z-index-modal-backdrop: 40;
    --z-index-modal: 50;
    --z-index-popover: 60;
    --z-index-tooltip: 70;
  }
}

@layer base {
  /* Base styling */
  html {
    font-family: var(--font-sans);
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
  
  body {
    min-height: 100vh;
    margin: 0;
    padding: 0;
    color-scheme: dark;
    background-color: rgb(var(--color-dark-900)); /* #0F0F0F */
    color: var(--color-text-primary);
    font-family: var(--font-sans);
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    line-height: 1.5;
  }
  
  *, *::before, *::after {
    box-sizing: border-box;
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    line-height: 1.2;
    margin-top: 0;
    margin-bottom: 0.5em;
  }
  
  p {
    margin-top: 0;
    margin-bottom: 1em;
  }
  
  a {
    color: rgb(var(--color-primary-400));
    text-decoration: none;
    transition: color var(--animation-short) ease;
  }
  
  a:hover {
    color: rgb(var(--color-primary-300));
    text-decoration: underline;
  }
  
  code, pre, kbd {
    font-family: var(--font-mono);
  }

  /* Fix for mobile Safari */
  button, input, optgroup, select, textarea {
    font-family: inherit;
  }
}

@layer components {
  /* ===== BUTTONS ===== */
  .btn {
    @apply inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-colors 
    focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2
    disabled:pointer-events-none disabled:opacity-50;
  }
  
  .btn-primary {
    @apply bg-primary-600 text-white hover:bg-primary-700 hover:shadow-primary-glow;
  }
  
  .btn-secondary {
    @apply bg-dark-700 text-white hover:bg-dark-600;
  }
  
  .btn-outline {
    @apply border border-primary-500 bg-transparent text-primary-500 hover:bg-primary-900/20 hover:text-primary-400 hover:shadow-primary-glow;
  }
  
  .btn-ghost {
    @apply bg-transparent text-primary-500 hover:bg-primary-900/20 hover:text-primary-400;
  }
  
  .btn-danger {
    @apply bg-error-600 text-white hover:bg-error-700 hover:shadow-error-glow;
  }
  
  .btn-sm {
    @apply h-8 px-3 text-xs;
  }
  
  .btn-md {
    @apply h-10 px-4 text-sm;
  }
  
  .btn-lg {
    @apply h-12 px-6 text-base;
  }
  
  .btn-icon {
    @apply p-2 rounded-full;
  }

  /* ===== INPUTS ===== */
  .input {
    @apply flex h-10 w-full rounded-md bg-dark-800 border border-dark-600 px-3 py-2 text-sm 
    placeholder:text-dark-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent
    disabled:cursor-not-allowed disabled:opacity-50;
  }

  .chat-input {
    @apply w-full px-4 py-3 rounded-md bg-dark-800 border border-dark-600 text-gray-200 
    focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent placeholder:text-gray-500 
    disabled:cursor-not-allowed disabled:opacity-50;
  }
  
  .select {
    @apply h-10 rounded-md bg-dark-800 border border-dark-600 px-3 py-2 text-sm
    focus:outline-none focus:ring-2 focus:ring-primary-500
    disabled:cursor-not-allowed disabled:opacity-50;
  }
  
  .checkbox {
    @apply h-4 w-4 shrink-0 rounded border border-dark-600 bg-dark-800 focus:outline-none focus:ring-2 
    focus:ring-primary-500 focus:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50
    checked:bg-primary-500 checked:border-primary-500;
  }
  
  .radio {
    @apply h-4 w-4 shrink-0 rounded-full border border-dark-600 bg-dark-800 focus:outline-none focus:ring-2 
    focus:ring-primary-500 focus:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50
    checked:bg-primary-500 checked:border-primary-500;
  }
  
  .switch {
    @apply relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent 
    bg-dark-600 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 
    disabled:cursor-not-allowed disabled:opacity-50
    data-[checked]:bg-primary-500;
  }
  
  .switch-thumb {
    @apply pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform
    data-[checked]:translate-x-5;
  }
  
  /* ===== CARDS ===== */
  .card {
    @apply rounded-lg border border-dark-600 bg-dark-700 shadow-md overflow-hidden;
  }
  
  .card-header {
    @apply flex flex-row items-center justify-between p-6 pb-4;
  }
  
  .card-title {
    @apply text-lg font-semibold;
  }
  
  .card-description {
    @apply mt-1 text-sm text-gray-300;
  }
  
  .card-content {
    @apply p-6 pt-0;
  }
  
  .card-footer {
    @apply flex items-center p-6 pt-0;
  }

  /* ===== DROPDOWNS ===== */
  .dropdown {
    @apply relative inline-block text-left;
  }
  
  .dropdown-content {
    @apply absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-dark-700 border border-dark-600 shadow-lg 
    ring-1 ring-black ring-opacity-5 focus:outline-none;
  }
  
  .dropdown-item {
    @apply relative flex cursor-pointer select-none items-center rounded-sm px-3 py-2 text-sm text-gray-300
    outline-none transition-colors hover:bg-dark-600 hover:text-gray-100 data-[disabled]:pointer-events-none 
    data-[disabled]:opacity-50;
  }
  
  /* ===== TOOLTIPS ===== */
  .tooltip {
    @apply absolute z-50 rounded-md bg-dark-800 text-xs text-gray-200 px-2 py-1 shadow-md 
    animate-in fade-in data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1
    data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1;
  }
  
  /* ===== TABLES ===== */
  .table {
    @apply w-full text-sm;
  }
  
  .table-header {
    @apply bg-dark-800 text-left;
  }
  
  .table-row {
    @apply border-b border-dark-600 hover:bg-dark-700/50;
  }
  
  .table-cell {
    @apply p-3 align-middle;
  }
  
  .table-head {
    @apply p-3 text-xs font-medium uppercase tracking-wider text-gray-300;
  }
  
  /* ===== PANELS ===== */
  .panel {
    @apply bg-dark-700 rounded-lg border border-dark-600 shadow;
  }
  
  .panel-header {
    @apply flex flex-row items-center justify-between p-4 border-b border-dark-600;
  }
  
  .panel-content {
    @apply p-4;
  }
  
  .panel-footer {
    @apply flex items-center justify-end p-4 border-t border-dark-600;
  }
  
  /* ===== SIDEBAR ===== */
  .sidebar {
    @apply bg-dark-800 flex flex-col text-gray-100;
  }
  
  .sidebar-header {
    @apply p-4 border-b border-dark-600;
  }
  
  .sidebar-content {
    @apply flex-1 overflow-y-auto p-4;
  }
  
  .sidebar-section {
    @apply mb-4;
  }
  
  .sidebar-section-title {
    @apply text-sm font-medium text-gray-300 mb-2;
  }

  /* ===== CHAT ===== */
  .chat-container {
    @apply flex-1 flex flex-col h-screen bg-dark-800 border-x border-dark-600;
  }
  
  .chat-header {
    @apply p-4 border-b border-dark-600 flex justify-between items-center;
  }
  
  .chat-messages {
    @apply flex-1 overflow-y-auto p-6 space-y-6;
  }
  
  .chat-message-ai {
    @apply bg-dark-700 rounded-lg p-4 max-w-[80%] self-start;
  }
  
  .chat-message-user {
    @apply bg-primary-900/30 rounded-lg p-4 max-w-[80%] self-end;
  }
  
  .chat-input-container {
    @apply p-6 border-t border-dark-600;
  }
  
  .chat-form {
    @apply flex gap-2;
  }
  
  /* ===== ALERTS ===== */
  .alert {
    @apply relative w-full rounded-lg border p-4 mb-4 [&>svg~*]:pl-7 [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4;
  }
  
  .alert-info {
    @apply bg-primary-900/20 border-primary-900 text-primary-100;
  }
  
  .alert-success {
    @apply bg-success-900/20 border-success-900 text-success-100;
  }
  
  .alert-warning {
    @apply bg-warning-900/20 border-warning-900 text-warning-100;
  }
  
  .alert-error {
    @apply bg-error-900/20 border-error-900 text-error-100;
  }

  /* ===== DROPDOWNS ===== */  
  .dropdown-menu {
    @apply w-full mb-3;
  }
  
  .dropdown-trigger {
    @apply w-full flex items-center justify-between bg-dark-700 hover:bg-dark-600 p-3 rounded-t-md transition-colors cursor-pointer text-white;
  }
  
  .dropdown-content {
    @apply bg-dark-700 p-3 rounded-b-md border-t border-dark-600 w-full;
  }
  
  /* ===== ANIMATIONS ===== */
  .ripple-container {
    @apply relative overflow-hidden;
  }
  
  .ripple-effect {
    @apply absolute rounded-full bg-white/10 animate-ripple;
  }
  
  .glow-hover {
    @apply transition-shadow duration-300;
  }
  
  .glow-hover-primary:hover {
    @apply shadow-primary-glow;
  }
  
  .glow-hover-secondary:hover {
    @apply shadow-secondary-glow;
  }
  
  .glow-hover-success:hover {
    @apply shadow-success-glow;
  }
  
  .glow-hover-error:hover {
    @apply shadow-error-glow;
  }
}

@layer utilities {
  /* Custom scrollbar */
  .scrollbar-thin {
    scrollbar-width: thin;
  }
  
  .scrollbar-hidden {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  
  .scrollbar-hidden::-webkit-scrollbar {
    display: none;
  }
  
  /* Material elevation utilities */
  .elevation-0 {
    background-color: var(--bg-elevation-0);
    box-shadow: var(--shadow-dp0);
  }
  
  .elevation-1 {
    background-color: var(--bg-elevation-1);
    box-shadow: var(--shadow-dp1);
  }
  
  .elevation-2 {
    background-color: var(--bg-elevation-2);
    box-shadow: var(--shadow-dp2);
  }
  
  .elevation-3 {
    background-color: var(--bg-elevation-3);
    box-shadow: var(--shadow-dp3);
  }
  
  .elevation-4 {
    background-color: var(--bg-elevation-4);
    box-shadow: var(--shadow-dp4);
  }
  
  .elevation-6 {
    background-color: var(--bg-elevation-6);
    box-shadow: var(--shadow-dp6);
  }
  
  .elevation-8 {
    background-color: var(--bg-elevation-8);
    box-shadow: var(--shadow-dp8);
  }
  
  .elevation-12 {
    background-color: var(--bg-elevation-12);
    box-shadow: var(--shadow-dp12);
  }
  
  .elevation-16 {
    background-color: var(--bg-elevation-16);
    box-shadow: var(--shadow-dp16);
  }
  
  .elevation-24 {
    background-color: var(--bg-elevation-24);
    box-shadow: var(--shadow-dp24);
  }

  /* Animation utilities */
  .transition-material {
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .transition-material-in {
    transition-timing-function: cubic-bezier(0.4, 0, 1, 1);
  }
  
  .transition-material-out {
    transition-timing-function: cubic-bezier(0, 0, 0.2, 1);
  }
  
  /* Typography utilities */
  .text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* Custom scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background-color: rgb(26, 26, 26); /* dark-800 */
}

::-webkit-scrollbar-thumb {
  background-color: rgb(48, 48, 48); /* dark-600 */
  border-radius: 9999px;
}

::-webkit-scrollbar-thumb:hover {
  background-color: rgb(66, 66, 66); /* dark-500 */
}

/* Focus ring styling */
:focus-visible {
  outline: 2px solid rgb(var(--color-primary-500));
  outline-offset: 2px;
}

/* Selection styling */
::selection {
  background-color: rgba(var(--color-primary-500), 0.3);
}